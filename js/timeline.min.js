function append_header(e,a){var n='<header class="timeline-header" id="'+a+'">';n+='<span class="tag is-medium is-dark">'+a+"</span>",n+="</header>",e.append(n)}function append_node(e,a){var n='<div class="timeline-item" id="item'+a.id+'">';for(n+='<div class="timeline-marker is-dark"></div>',n+='<div class="timeline-content">',n+='<p class="heading">'+a.published+" "+a.author+"</p>",n+='<p><a href="'+a.source+'" target="_blank">'+a.title+"</a><br/>",j=0;j<a.tags.length;j++)n+='<span class="tag is-info">#'+a.tags[j]+"</span> ";n+="</div>",n+="</div>",e.append(n)}function append_shortcut(){for(i=2023;i>2008;i--){var e='<header class="timeline-header is-small">';e+='<a href="#'+i+'" class="is-light">'+i+"</a>",e+="</header>",$("#shortcut").append(e)}}var tags=[],nodes=[];$(document).ready(function(){$.ajax({url:"/data/numbers.json?"+Math.random(),dataType:"text",cache:!1,success:function(e){for(k of(e=JSON.parse(e),["posts","operations","authors"]))$("#"+k).text(e[k])},error:function(e){console.log("ERROR",e)}}),$.ajax({url:"/data/timeline.json?"+Math.random(),dataType:"text",cache:!1,success:function(e){for(e=JSON.parse(e),nodes=e.nodes,tags=[],i=0;i<nodes.length;i++)node=nodes[i],i>0&&(published=new Date(node.published),last=new Date(nodes[i-1].published),last.getFullYear()!=published.getFullYear()&&append_header($("#timeline"),last.getFullYear())),append_node($("#timeline"),node);append_header($("#timeline"),2009),append_shortcut()},error:function(e){console.log("ERROR",e)}})});
